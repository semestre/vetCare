import{a as U}from"./chunk-2XMMWKXJ.js";import"./chunk-BU22BUDG.js";import{A as M,Ca as O,D as c,Fb as A,Gb as T,H as m,I as p,Ia as b,J as u,Ra as y,S as _,Ta as v,Va as k,Z as w,ab as I,e as s,eb as S,fb as E,gb as j,hb as F,n as d,p as x,t as C,u as t,v as n,w as g,za as P}from"./chunk-BD74CAZO.js";import"./chunk-ZXXBFUOU.js";import"./chunk-QUJFQN2Y.js";import"./chunk-QY6UIVJQ.js";import"./chunk-P7YZ6MZZ.js";import"./chunk-36UHZOHV.js";import"./chunk-7RTGVXX3.js";import"./chunk-WFLQ7WLW.js";import"./chunk-AF42PUU2.js";import"./chunk-7FY2OE2O.js";import"./chunk-XHI6ZVY4.js";import"./chunk-QCR37W5F.js";import"./chunk-GGKGC5II.js";import"./chunk-MTHZ7MWU.js";import"./chunk-WI5MSH4N.js";import"./chunk-M6WNDVST.js";import"./chunk-CKP3SGE2.js";import"./chunk-U4FVAOLW.js";import"./chunk-GKMKLVEE.js";import"./chunk-R5AX6O7P.js";import"./chunk-SF7XZ6C4.js";import"./chunk-G7CBOZIR.js";import"./chunk-CLDSZD2A.js";import"./chunk-M2X7KQLB.js";import"./chunk-3IVKBF6N.js";import"./chunk-OZYWYLNK.js";import"./chunk-42C7ZIID.js";import{e as h}from"./chunk-JHI3MBHO.js";var J=(()=>{let r=class r{constructor(){this.username="",this.password="",this.router=s(w),this.controlAccesoService=s(U),this.toast=s(A)}login(){this.controlAccesoService.getAllUsuarios().subscribe({next:a=>{console.log("\u{1F7E2} All users fetched from API:",a);let o=a.find(e=>e.nombreUsuario===this.username&&e.password===this.password);o?(console.log("\u2705 Login successful for:",o.nombreUsuario),this.router.navigate([`/${o.rol}`])):(console.log("\u274C Invalid credentials"),this.toast.create({message:"Usuario o contrase\xF1a incorrectos",duration:1800,color:"danger"}).then(e=>e.present()))},error:a=>h(this,null,function*(){console.error("Error fetching usuarios",a),(yield this.toast.create({message:"No se pudo conectar al servidor",duration:1800,color:"danger"})).present()})})}};r.\u0275fac=function(o){return new(o||r)},r.\u0275cmp=x({type:r,selectors:[["app-home"]],decls:23,vars:3,consts:[[1,"auth-content",3,"fullscreen"],[1,"auth-wrapper"],[1,"hero-side"],["src","../../assets/img/dog.png","alt","Dog image"],[1,"form-side"],[1,"form-card"],[1,"logo-wrap"],["src","../../assets/img/logo.png.png","alt","VetCare logo"],[1,"title"],["fill","outline"],["position","floating"],["type","text",3,"ngModelChange","ngModel"],["fill","outline",1,"mt-3"],["type","password",3,"ngModelChange","ngModel"],["expand","block",1,"mt-4",3,"click"],[1,"aux-links"],["href","#"]],template:function(o,e){o&1&&(t(0,"ion-content",0)(1,"div",1)(2,"div",2),g(3,"ion-img",3),n(),t(4,"div",4)(5,"ion-card",5)(6,"div",6),g(7,"ion-img",7),n(),t(8,"h1",8),c(9,"Inicio de sesi\xF3n"),n(),t(10,"ion-item",9)(11,"ion-label",10),c(12,"Usuario"),n(),t(13,"ion-input",11),u("ngModelChange",function(i){return p(e.username,i)||(e.username=i),i}),n()(),t(14,"ion-item",12)(15,"ion-label",10),c(16,"Contrase\xF1a"),n(),t(17,"ion-input",13),u("ngModelChange",function(i){return p(e.password,i)||(e.password=i),i}),n()(),t(18,"ion-button",14),M("click",function(){return e.login()}),c(19," Iniciar sesi\xF3n "),n(),t(20,"div",15)(21,"a",16),c(22,"\xBFOlvidaste tu contrase\xF1a?"),n()()()()()()),o&2&&(C("fullscreen",!0),d(13),m("ngModel",e.username),d(4),m("ngModel",e.password))},dependencies:[T,v,k,I,S,E,j,F,y,_,b,P,O],styles:['@charset "UTF-8";.auth-content[_ngcontent-%COMP%]{--background: var(--ion-background-color)}.hero-side[_ngcontent-%COMP%]   ion-img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.form-card[_ngcontent-%COMP%]{width:100%;max-width:420px;padding:24px 20px 28px;border-radius:20px;box-shadow:0 10px 25px #0000001f}.logo-wrap[_ngcontent-%COMP%]{display:flex;justify-content:center;margin-bottom:10px}.logo-wrap[_ngcontent-%COMP%]   ion-img[_ngcontent-%COMP%]{width:110px;height:110px;object-fit:contain}.title[_ngcontent-%COMP%]{text-align:center;margin:8px 0 18px;font-size:1.5rem;font-weight:700;color:#333}.mt-3[_ngcontent-%COMP%]{margin-top:12px}.mt-4[_ngcontent-%COMP%]{margin-top:16px}.aux-links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-size:.9rem;text-decoration:none;color:var(--ion-color-primary)}@media (max-width: 900px){.auth-wrapper[_ngcontent-%COMP%]{grid-template-columns:1fr}.hero-side[_ngcontent-%COMP%]{display:none}.form-card[_ngcontent-%COMP%]{max-width:500px}}.auth-content[_ngcontent-%COMP%]{--background: #fdd9a0;background-color:#fdd9a0}.auth-wrapper[_ngcontent-%COMP%]{display:grid;grid-template-columns:1.2fr 1fr;height:100%}.hero-side[_ngcontent-%COMP%]   ion-img[_ngcontent-%COMP%]{width:790px;height:790px;object-fit:cover;padding-left:10px}.form-side[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;padding:24px}.form-card[_ngcontent-%COMP%]{width:100%;max-width:440px;padding:32px 28px 36px;border-radius:24px;background:#fff;box-shadow:0 12px 30px #0000001a}.logo-wrap[_ngcontent-%COMP%]{display:flex;justify-content:center;margin-bottom:16px}.logo-wrap[_ngcontent-%COMP%]   ion-img[_ngcontent-%COMP%]{width:580px;height:220px;object-fit:contain}.title[_ngcontent-%COMP%]{text-align:center;margin:6px 0 20px;font-size:1.6rem;font-weight:700;color:#333}.mt-3[_ngcontent-%COMP%]{margin-top:14px}.mt-4[_ngcontent-%COMP%]{margin-top:18px}ion-item[_ngcontent-%COMP%]{--border-color: #999}ion-button[_ngcontent-%COMP%]{--background: #f28b0c;--background-activated: #e07800;--border-radius: 10px;font-weight:600}.aux-links[_ngcontent-%COMP%]{text-align:center;margin-top:12px}.aux-links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-size:.95rem;text-decoration:none;color:#f28b0c;font-weight:500}@media (max-width: 900px){.auth-wrapper[_ngcontent-%COMP%]{grid-template-columns:1fr}.hero-side[_ngcontent-%COMP%]{display:none}.form-card[_ngcontent-%COMP%]{max-width:500px}.auth-content[_ngcontent-%COMP%]{background:linear-gradient(180deg,#fdd9a0,#fcbf69)}}']});let l=r;return l})();export{J as HomePage};
