<div class="dialog">

  <!-- Header -->
  <div class="dialog-header">
    <h2>{{ usuario ? 'Editar usuario' : 'Nuevo usuario' }}</h2>
    <ion-button (click)="close()" fill="clear" aria-label="Cerrar" size="small">
      <ion-icon name="close-outline" slot="icon-only"></ion-icon>
    </ion-button>
  </div>

  <!-- Body -->
  <div class="dialog-body">
    <form [formGroup]="form" (ngSubmit)="save()" class="form-body" novalidate>

      <ion-list inset="true" class="group">
        <ion-item>
          <ion-icon name="person-outline" slot="start"></ion-icon>
          <ion-input
            label="Nombre de usuario"
            labelPlacement="stacked"
            placeholder="ej. admin, vet.juan"
            formControlName="nombreUsuario">
          </ion-input>
        </ion-item>
        <ion-note color="danger" *ngIf="form.get('nombreUsuario')?.touched && form.get('nombreUsuario')?.invalid">
          Debe tener al menos 3 caracteres.
        </ion-note>

        <ion-item>
          <ion-icon name="lock-closed-outline" slot="start"></ion-icon>
          <ion-input
            [type]="showPass ? 'text' : 'password'"
            label="Contraseña"
            labelPlacement="stacked"
            placeholder="Mínimo 4 caracteres"
            formControlName="password">
          </ion-input>
          <ion-button fill="clear" slot="end" (click)="showPass = !showPass" aria-label="Mostrar/ocultar contraseña">
            <ion-icon [name]="showPass ? 'eye-off-outline' : 'eye-outline'"></ion-icon>
          </ion-button>
        </ion-item>
        <ion-note color="danger" *ngIf="form.get('password')?.touched && form.get('password')?.invalid">
          La contraseña es obligatoria (mínimo 4).
        </ion-note>

        <ion-item>
          <ion-icon name="ribbon-outline" slot="start"></ion-icon>
          <ion-select label="Rol" labelPlacement="stacked" formControlName="rol" interface="popover">
            <ion-select-option value="Administrador">Administrador</ion-select-option>
            <ion-select-option value="Veterinario">Veterinario</ion-select-option>
            <ion-select-option value="Asistente">Asistente</ion-select-option>
          </ion-select>
        </ion-item>
      </ion-list>

      <div class="bottom-space"></div>
    </form>
  </div>

  <!-- Footer -->
  <div class="dialog-footer">
    <ion-button fill="outline" color="medium" (click)="close()">Cancelar</ion-button>
    <ion-button type="submit" (click)="save()">
      <ion-icon slot="start" name="save-outline"></ion-icon>
      Guardar
    </ion-button>
  </div>

</div>
