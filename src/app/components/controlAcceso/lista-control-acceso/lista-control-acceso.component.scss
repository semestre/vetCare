/* ====== base clara común ====== */
:host{
  color-scheme: only light;
  --ion-background-color:#fff;
  --ion-text-color:#0f172a;

  --accent:#2193b0;
  --btn-blue:#3b82f6;
  --btn-blue-hover:#2563eb;

  --soft-border:1px solid rgba(226,232,240,.9);
  --card-shadow:0 12px 28px rgba(2,6,23,.08);
}

/* ====== header blanco + buscador píldora ====== */
.header-white{
  background:#fff !important;
  box-shadow:0 2px 8px rgba(15,23,42,.06);
  border-bottom:1px solid rgba(0,0,0,.05);
  z-index:20;
  margin-top: var(--outer-header-height, 55px);
}
.header-white ion-toolbar{ --background:#fff !important; }

.header-row{
  display:flex; align-items:center; gap:12px;
  padding:8px 12px;
}
.title{ display:flex; align-items:center; gap:.5rem; font-weight:800; color:#1e293b; }
.title ion-icon{ color:var(--accent); font-size:1.2rem; }

/* searchbar igual a Citas */
.header-row ion-searchbar{
  flex:1; max-width:560px; height:44px;
  --background:#fff; --color:#0f172a;
  --placeholder-color:#64748b; --icon-color:#64748b;
  border:none;
}
.header-row ion-searchbar::part(container){
  border-radius:999px; border:1px solid rgba(226,232,240,.9);
  box-shadow:none; background:#fff; padding-inline:12px;
}

/* ====== franja de controles (filtros + botón) ====== */
.controls{
  display:flex; align-items:center; justify-content:space-between;
  gap:12px; margin:8px 12px 14px;
}
.controls .filters{ flex:1; min-width:0; }
.controls .actions{ display:flex; align-items:center; gap:8px; flex-shrink:0; }

/* Segment pastilla */
ion-segment{
  background:#f3f7fb; border-radius:999px; padding:4px;
  box-shadow:none; border:0;
}
ion-segment-button{
  --indicator-color:#fff;
  --color:#0f172a; --color-checked:#0f172a;
  --background:transparent; --background-checked:#fff;
  border-radius:999px;
}

/* Botón “Nuevo usuario” en píldora */
.controls .actions ion-button{
  --border-radius:9999px; --box-shadow:none;
  --background:var(--btn-blue); --background-hover:var(--btn-blue-hover);
  --color:#fff;
  height:42px; min-width:140px; padding:0 22px;
  white-space:nowrap; font-weight:700; letter-spacing:.3px;
  display:flex; align-items:center; justify-content:center;
}

/* ====== fondo del contenido ====== */
.content-bg{ --background:linear-gradient(180deg,#f7fbff 0%,#fff 100%); }

/* ====== cards usuarios (ya las tenías, se mantienen) ====== */
.card{ background:#fff; border:var(--soft-border); border-radius:18px; box-shadow:var(--card-shadow);
  overflow:hidden; transition:transform .2s, box-shadow .2s; }
.card.hover:hover{ transform:translateY(-4px); box-shadow:0 16px 32px rgba(2,6,23,.12); }

.card-header{ display:flex; align-items:center; gap:12px; padding:14px 16px; }

.avatar{
  width:84px;height:84px;border-radius:50%;
  background:linear-gradient(135deg,#e3f6fd,#dbeafe);
  color:#0f172a;font-weight:800;display:grid;place-items:center;
  border:3px solid #fff;box-shadow:0 6px 14px rgba(2,6,23,.1);
}
.avatar.sk{ background:#eef2f7;border:0;box-shadow:none; }

.title-wrap{ display:flex; flex-direction:column; gap:4px; min-width:0; }
.name{ color:#1f2a44; font-weight:800; overflow:hidden; text-overflow:ellipsis; white-space:nowrap; }

/* badge de rol */
.role-badge{
  display:inline-flex; align-items:center; gap:6px;
  padding:4px 10px;border-radius:999px;font-weight:600;font-size:.85rem;
  background:#eef7ff;color:#1e3a8a;border:1px solid #dbe9ff;
}
.role-badge ion-icon{ font-size:16px; }

/* meta */
.meta{ display:grid;grid-template-columns:repeat(auto-fit,minmax(140px,1fr));gap:.75rem;margin-top:.25rem; }
.meta-item{ background:#f7fafc;border:1px solid #e6edf5;border-radius:12px;padding:.7rem .9rem; }
.meta-k{ display:block;font-size:.8rem;color:#64748b;margin-bottom:.15rem; }
.meta-v{ font-weight:700;color:#0f172a; }

.note{ margin-top:.6rem;font-size:.85rem;color:#64748b; }

/* responsive */
@media (max-width:480px){
  .header-row{ flex-wrap:wrap; }
  .controls .actions{ padding-left:8px; }
}
/* ===============================
   BUSCADOR PÍLDORA REDONDEADA
   =============================== */
.header-row ion-searchbar {
  flex: 1;
  max-width: 560px;
  height: 44px;

  --background: #ffffff !important;
  --color: #0f172a !important;
  --placeholder-color: #64748b !important;
  --icon-color: #64748b !important;
  --clear-button-color: #64748b !important;
  border: none !important;
}

/* Contenedor interno redondeado */
.header-row ion-searchbar::part(container) {
  border-radius: 999px !important;
  border: 1px solid rgba(226, 232, 240, 0.9) !important;
  box-shadow: none !important;
  background: #ffffff !important;
  padding-inline: 12px !important;
}

/* Asegura que los inputs internos también sigan el radio */
:host ::ng-deep .header-row ion-searchbar .searchbar-input-container,
:host ::ng-deep .header-row ion-searchbar .searchbar-input {
  border-radius: 999px !important;
}

:host ::ng-deep .user-delete-alert {
  .alert-wrapper {
    border-radius: 18px !important;
  }

  .alert-message {
    text-align: center;
    white-space: pre-line;
  }

  button.danger {
    color: #fff !important;
    background: var(--ion-color-danger);
    border-radius: 999px;
    padding-inline: 14px;
  }
}

.user-actions {
  margin-top: 12px;
  display: flex;
  justify-content: flex-end;
  gap: 8px;
}

.role-chip {
  margin-top: 4px;
}
