<!-- Diálogo centrado (sin ion-header/footer para evitar “sheet”) -->
<div class="dialog">

  <!-- Header -->
  <div class="dialog-header">
    <h2>Nuevo Paciente</h2>
    <ion-button (click)="cerrar()" fill="clear" aria-label="Cerrar" size="small">
      <ion-icon slot="icon-only" name="close-outline"></ion-icon>
    </ion-button>
  </div>

  <!-- Body (scrollable) -->
  <div class="dialog-body">
    <form (ngSubmit)="guardar()" novalidate>

      <ion-item>
        <ion-icon name="paw-outline" slot="start"></ion-icon>
        <ion-input
          label="Nombre de la mascota"
          labelPlacement="stacked"
          [(ngModel)]="paciente.nombreMascota"
          name="nombreMascota"
          required>
        </ion-input>
      </ion-item>

      <ion-item>
        <ion-icon name="shapes-outline" slot="start"></ion-icon>
        <ion-input
          label="Especie"
          labelPlacement="stacked"
          [(ngModel)]="paciente.especie"
          name="especie"
          required>
        </ion-input>
      </ion-item>

      <ion-item>
        <ion-icon name="id-card-outline" slot="start"></ion-icon>
        <ion-input
          label="Raza"
          labelPlacement="stacked"
          [(ngModel)]="paciente.raza"
          name="raza">
        </ion-input>
      </ion-item>

      <ion-item>
        <ion-icon name="time-outline" slot="start"></ion-icon>
        <ion-input
          type="number"
          label="Edad"
          labelPlacement="stacked"
          [(ngModel)]="paciente.edad"
          name="edad">
        </ion-input>
      </ion-item>

      <ion-item>
        <ion-icon name="document-text-outline" slot="start"></ion-icon>
        <ion-textarea
          label="Historial Médico"
          labelPlacement="stacked"
          [(ngModel)]="paciente.historialMedico"
          name="historialMedico"
          auto-grow="true">
        </ion-textarea>
      </ion-item>

      <ion-item>
        <ion-icon name="person-outline" slot="start"></ion-icon>
        <ion-select
          label="ID del Propietario"
          labelPlacement="stacked"
          [(ngModel)]="paciente.idPropietario"
          name="idPropietario"
          placeholder="Selecciona un propietario">
          <ion-select-option *ngFor="let p of propietarios" [value]="p.idPropietario">
            {{ p.idPropietario }} - {{ p.nombre }}
          </ion-select-option>
        </ion-select>
      </ion-item>

    </form>
  </div>

  <!-- Footer fijo (acciones) -->
  <div class="dialog-footer">
    <ion-button fill="outline" color="medium" (click)="cerrar()">Cancelar</ion-button>

    <ion-button expand="block" type="submit" (click)="guardar()" [disabled]="cargando">
      <ion-spinner *ngIf="cargando" name="crescent"></ion-spinner>
      <span *ngIf="!cargando">Guardar Paciente</span>
    </ion-button>
  </div>

</div>
